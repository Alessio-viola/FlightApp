<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SIGN-IN</title>
        <!-- Link a font Lato -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../../bootstrap/css/bootstrap.min.css">
    <script type="text/javascript" src="../../bootstrap/js/bootstrap.bundle.min.js"></script>
    <script
			  src="https://code.jquery.com/jquery-3.6.4.min.js"
			  integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
			  crossorigin="anonymous"></script>

    <script type="text/javascript" src="/views/common/bar.js"></script>
    <script type="text/javascript" src="/views/signin/signin.js"></script>


    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <link rel="stylesheet" href="/views/signin/signin.css"> 
    <link rel="stylesheet" href="/global.css">

  </head>
  <body onload="loadBar();" >
    <div id="navbar"></div>
      <form id="signinForm" action="http://localhost:3000/api/sign-in/" method="POST">
        <h1 style="font-family: 'Permanent Marker', cursive;"><b>SIGN-IN : Accedi</b></h1>
        <label for="email">Email</label>
        <input type="email" id="email" name="email" value="" onkeydown="hideErrorMessage();checkEmailInput();" required>
        <div>
          <label for="password">Password</label>
          <input type="password" id="password" name="password" required>
          <button type="button" id="show-password-button" onclick="showPassword()">Mostra</button>
          <p class="invalid-credentials" id="error-message"></p>
        </div><br>
        <button type="button" id="forgot-password-button" onclick="openPopup1()">Password dimenticata?</button><br>
        <br>
        <div class="row">
          <div class="col-6 text-left">
            
          </div> 

          <div class="col-6 text-right">
            <label for="email"><b>Oppure accedi con</b></label>
          </div>
        </div>


          <div class="row">
            <div class="col-6 text-left">
              <input id="submit" type="submit" value="Accedi">
            </div>
            <div class="col-6 text-right">
              <a id="googleButton" class="btn btn-with-image btn-light" href="/auth/google" role="button"></a>
            </div>
          </div>

      </form>

    
        <form id="recoveryPasswordForm" action="https://localhost:3000/forgot-password" method="POST">
          <div id="forgotPasswordPopup" class="popup">
            <h2>Password dimenticata</h2>
            <p>Inserisci il tuo indirizzo email per reimpostare la password.</p>
            <input type="email" id="recoveryEmail" required>
            <p class="invalid-credentials" id="error1"></p>
            <input type="submit" id="inviaButton" value="Invia">
            <span class="popup-close" onclick="closePopup1();">&times;</span>
          </div>  
        </form>

      <form id="tokenForm" action="https://localhost:3000/token" method="POST">
        <div id="tokenPopup" class="popup">
          <h2>Inserisci il Token</h2>
          <p>Inserisci il Token ricevuto via email.</p>
          <input type="text" id="recoveryToken" required>
          <p class="invalid-credentials" id="error2"></p>
          <input type="submit" id="inviaButton" value="Invia" onclick="">
          <span class="popup-close" onclick="closePopup2()">&times;</span>
        </div>  
      </form>

      <form id="passwordForm" action="https://localhost:3000/password" method="POST">
        <div id="passwordPopup" class="popup">
          <h2>Inserisci La nuova password</h2><br>
          <h5>Inserisci nuova password</h5>
          <input type="text" id="recoveryPassword" required><br>
          <h5>Conferma nuova password</h5>
          <input type="text" id="confirmRecoveryPassword" required>
          <p class="invalid-credentials" id="error3"></p>
          <input type="submit" id="inviaButton" value="Invia" onclick="">
          <span class="popup-close" onclick="closePopup3()">&times;</span>
        </div>  
      </form>


      
  </body>
</html>
